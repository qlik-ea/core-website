# April 2019

Welcome to the April 2019 Qlik Core update. We're highlighting a couple of important changes and improvements which we
hope you will like.

## Enhancements in catwalk

### Demo app

Looking at the visitor statistics we could see that a lot of people opened and left catwalk without opening a Qlik
application. One possible explanation to the behavior could be a curiosity around the tool and its capabilities but
lacking a running engine or a configured Qlik Sense Enterprise prevented further exploring. To mitigate this we have
have added a
[demo app](https://catwalk.core.qlik.com/?engine_url=wss://apps.core.qlik.com/app/doc/01775889-c700-413f-9b0e-6ba1837c52b0/)
which can be used as an introduction to the tool and is automatically loaded if no engine URL is specified.

### Default web socket

If you are mainly working with one engine instance, using the new default socket connection feature might be of use.
By clicking on the star, top right in catwalk, the current web socket will be stored in the browser's local storage and
used in coming catwalk sessions.

![screenshot](../images/catwalk-default-websocket.png)

### Add support for selections in "always one selected value" fields

A field with the [property](https://core.qlik.com/services/qix-engine/apis/qix/definitions/#nxfieldproperties)
`qOneAndOnlyOne` will enforce only one selected value. The selection model in catwalk has been updated accordingly.

![screenshot](../images/catwalk-field-select-one-value.gif)

### Visual support for loosely coupled tables

We have added support for loosely couple tables, i.e. tables with a circular reference. Normally this is not intended in
a data model and catwalk will help out by marking the involved fields with a dashed red line.

![screenshot](../images/catwalk-circular-reference.png)

### Export hypercube data and definition

In one of the incoming feature requests there was an expressed need for exporting hypercube data. It sounded like an
interesting features so we decided to build support for it but also offer a way to export the hypercube definition to
Clipboard. Both features can be found in the new icons top right in open hypercubes.

![screenshot](../images/catwalk-export-hypercube.png)

### Save open hypercubes

Something which has irritated us for a while is that all hypercubes created in catwalk gets lost when the window is
refreshed or closed. To prevent this we now store the hypercube definition in the browser's local storage.

### Keep table headers during scrolling

Previously, when you navigate in large applications, the table headers were lost which caused some confusions on what
table the fields belonged. With the latest changes we will keep the table names on top as long as there are more fields
in the table. This is especially good if you have a complex application with a lot of association. In these it isn't
uncommon to have tables with large gaps between the fields, making it easy to miss the bottom ones.

![screenshot](../images/catwalk-scrolling-headers.gif)

### Various improvements

Apart from the larger fixes we have made a couple of smaller improvements:

* add support for table and field comments
* handle rendering issues when layout isn't retrieved and while loading the layout
* Multiple table-names properly displayed in tool tips
* Fix key field sorting during selection in other fields

## corectl 1.0.0 beta release

The rest of the team worked on reaching a 1.0.0 version of corectl. An API specification was created, commands
scrutinized and inconsistencies fixed throughout the commands. In the final work we decided upon going from verb-noun to
noun-verb to better align with other cli tools, improve discoverability and to provide a uniform command structure and
output. In short this means that all objects (e.g. apps, dimensions, connections, ...) will be found in the command root
and relevant actions for these objects an level below.

The other commands is divide between the following groups:

* **App Building** commands such as `build` and `reload` used during app creation
* **App Analysis** commands used to print data model related information as well as `eval` to evaluate expressions
* **Other** commands specific to corectl

```txt
Usage:
  corectl [flags]
  corectl [command]

App Building Commands:
  build         Reload and save the app after updating connections, dimensions, measures, objects and the script
  reload        Reload and save the app

App Analysis Commands:
  assoc         Print table associations
  catwalk       Open the specified app in catwalk
  eval          Evaluate a list of measures and dimensions
  fields        Print field list
  keys          Print key-only field list
  meta          Print tables, fields and associations
  tables        Print tables
  values        Print the top values of a field

Advanced Commands:
  app           Explore and manage apps
  connection    Explore and manage connections
  dimension     Explore and manage dimensions
  measure       Explore and manage measures
  object        Explore and manage generic objects
  script        Explore and manage the script

Other Commands:
  completion    Generate auto completion scripts
  help          Help about any command
  status        Print status info about the connection to the engine and current app
  version       Print the version of corectl

Flags:
  -a, --app string               App name, if no app is specified a session app is used instead
  -c, --config string            path/to/config.yml where parameters can be set instead of on the command line
  -e, --engine string            URL to the Qlik Associative Engine (default "localhost:9076")
      --headers stringToString   Http headers to use when connecting to Qlik Associative Engine (default [])
  -h, --help                     help for corectl
      --no-data                  Open app without data
  -t, --traffic                  Log JSON websocket traffic to stdout
      --ttl string               Qlik Associative Engine session time to live in seconds (default "30")
  -v, --verbose                  Log extra information
```

Among all the changes the following are noteworthy:

### Human readable vs json output

Since we assume corectl will be used interactively and in scripts we default to a human readable table while giving an
option to go for json output for scripting purposes.

```bash
corectl -a gdq.qvf measure ls
+-----------+-------+
|    Id     | Title |
+-----------+-------+
| measure-1 |       |
+-----------+-------+

vs
corectl -a gdq.qvf measure ls --json
[
  {
    "qId": "measure-1",
    "title": ""
  }
]
```

### Support for ABAC enabled applications

### Support environment variables in config file

### Other improvements

Apart from all the larger improvements we have also delivered:

* Open app without data (using the --no-data flag)
* Add bash completion for rm commands
* Enforce number of parameters for each command
* Improved config file by givin informative error messages
* Handle objects without data, empty prints and entities which can't be found
* add suggestion on commands on erroneous input
* add --no-reload flag to avoid reloading during build

## hamus.js released as npm package

The hamus.js project has been released as a [npm package](https://www.npmjs.com/package/hamus.js) for easy integration
in new projects.

## Upcoming

In May, we're working on SOMETHING. Stay tuned!

* [slack #qlik-core](https://qlik-branch.slack.com/channels/qlik-core)
* [github](https://github.com/qlik-oss)
